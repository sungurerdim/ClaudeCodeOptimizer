{
  "hooks": {
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "type \"${CLAUDE_PLUGIN_ROOT}\\hooks\\core-rules.json\" 2>nul || cat \"${CLAUDE_PLUGIN_ROOT}/hooks/core-rules.json\""
          },
          {
            "type": "agent",
            "prompt": "Check if the conversation context already contains 'cco: true' marker (from auto-loaded rules). If it does NOT contain this marker: Use AskUserQuestion to offer setup options - header: Setup, question: CCO is not configured for this project. How would you like to proceed?, options: [Auto-setup (Recommended): Detect stack and create rules automatically], [Interactive: Ask questions to customize setup], [Skip: Dont configure CCO]. If user selects Skip, stop here. Otherwise: Call Task(cco-agent-analyze, scope=config) to detect project and get config data, then Call Task(cco-agent-apply, scope=config) to write files. If cco: true marker IS already present, do nothing and return silently.",
            "timeout": 300
          }
        ]
      }
    ]
  }
}
