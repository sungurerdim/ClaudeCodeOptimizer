---
id: P011
number: 11
title: Grep-First Search Strategy
category: code_quality
severity: medium
weight: 6
applicability:
  project_types: ['all']
  languages: ['all']
---

# P011: Grep-First Search Strategy ğŸŸ¡

**Severity**: Medium

Optimize file operations using grep-first approach: files_with_matches â†’ content â†’ targeted Read with offset+limit

**Why**: Minimizes token usage and improves performance through strategic file access

**Project Types**: all
**Languages**: all

**Rules**:
- **Grep Before Read**: Use Grep before Read for unknown locations
- **Offset Limit Large Files**: Use offset+limit for large files >500 lines

**âŒ Bad**:
```
# Read entire 5000-line file
content = Read("largefile.py")

# No grep, blindly reading files
Read("file1.py")
Read("file2.py")
Read("file3.py")
```

**âœ… Good**:
```
# Grep-first approach
files = Grep("pattern", output_mode="files_with_matches")
context = Grep("pattern", path=files[0], output_mode="content", -C=5)

# Targeted read with offset+limit
Read("largefile.py", offset=100, limit=50)
```
