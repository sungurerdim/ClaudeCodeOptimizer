---
id: U007
number: 7
title: Token Optimization
category: universal
severity: medium
weight: 7
applicability:
  project_types: ['all']
  languages: ['all']
---

# U007: Token Optimization

Minimize token usage through grep-first approach and targeted reads.

**Grep-First Approach**:
```bash
Grep("pattern", path="file.py", output_mode="files_with_matches")  # Find files
Grep("pattern", path="file.py", output_mode="content", -C=5)       # Show context
Read(file.py, offset=40, limit=30)  # Read targeted section only
```

**Query Format**: `[file:line] → [action]`
```
✅ "auth.py:127-145 → Add JWT refresh token support"
❌ "Fix authentication bugs" (too vague)
```

**Why**: Reduces token costs, improves response time, stays under context limits.

**Rules**:
- Grep before reading full files
- Use offset/limit for large files
- Specific line ranges in queries
